import{_ as h,c as o,o as i,a as s,w as d,v as c,F as m,r as g,b as f,t as _,d as p}from"./index-MnZVakkz.js";const k={name:"TranslationManager",data(){return{products:[],loading:!0,searchQuery:"",savingProducts:{}}},async created(){await this.fetchProducts()},methods:{async fetchProducts(){this.loading=!0;try{const t=await p.get("/api/products");this.products=t.data}catch(t){console.error("Error fetching products:",t),alert("Failed to load products")}finally{this.loading=!1}},async searchProducts(){if(!this.searchQuery.trim()){await this.fetchProducts();return}this.loading=!0;try{const t=await p.get(`/api/products/search?q=${this.searchQuery}`);this.products=t.data}catch(t){console.error("Error searching products:",t)}finally{this.loading=!1}},async saveTranslations(t){this.savingProducts[t.id]=!0;try{await p.patch(`/api/products/${t.id}/translations`,{name_uk:t.name_uk,name_pl:t.name_pl,description_uk:t.description_uk,description_pl:t.description_pl}),alert(`Translations for "${t.name}" saved successfully!`)}catch(e){console.error("Error saving translations:",e),alert("Failed to save translations")}finally{this.savingProducts[t.id]=!1}},async autoTranslate(t){this.savingProducts[t.id]=!0;try{const r=(await p.post(`/api/products/${t.id}/auto-translate`,{targetLanguages:["uk","pl"],sourceLanguage:"en"})).data;Object.assign(t,{name_uk:r.name_uk,name_pl:r.name_pl,description_uk:r.description_uk,description_pl:r.description_pl}),alert(`Auto-translated "${t.name}" successfully!`)}catch(e){console.error("Error auto-translating:",e),alert("Failed to auto-translate")}finally{this.savingProducts[t.id]=!1}}}},v={class:"translation-manager"},y={class:"filters"},P={key:0,class:"loading"},U={key:1,class:"no-products"},T={key:2,class:"products-list"},V={key:0,class:"description"},b={class:"price"},w={class:"translations"},x={class:"translation-section"},C={class:"form-group"},E=["onUpdate:modelValue"],F={class:"form-group"},N=["onUpdate:modelValue"],Q={class:"translation-section"},D={class:"form-group"},L=["onUpdate:modelValue"],M={class:"form-group"},B=["onUpdate:modelValue"],S={class:"actions"},$=["onClick"],A=["onClick"];function I(t,e,r,j,l,u){return i(),o("div",v,[e[8]||(e[8]=s("h1",null,"Product Translation Management",-1)),s("div",y,[d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.searchQuery=a),placeholder:"Search products...",onInput:e[1]||(e[1]=(...a)=>u.searchProducts&&u.searchProducts(...a)),class:"search-input"},null,544),[[c,l.searchQuery]])]),l.loading?(i(),o("div",P,"Loading products...")):l.products.length===0?(i(),o("div",U," No products found. Please add some products first. ")):(i(),o("div",T,[(i(!0),o(m,null,g(l.products,a=>(i(),o("div",{key:a.id,class:"product-card"},[s("h2",null,_(a.name),1),a.description?(i(),o("p",V,_(a.description),1)):f("",!0),s("p",b,"$"+_(a.price),1),s("div",w,[s("div",x,[e[4]||(e[4]=s("h3",null,"Ukrainian Translation",-1)),s("div",C,[e[2]||(e[2]=s("label",{for:"name_uk"},"Name (Ukrainian)",-1)),d(s("input",{id:"name_uk","onUpdate:modelValue":n=>a.name_uk=n,type:"text",placeholder:"Ukrainian product name"},null,8,E),[[c,a.name_uk]])]),s("div",F,[e[3]||(e[3]=s("label",{for:"description_uk"},"Description (Ukrainian)",-1)),d(s("textarea",{id:"description_uk","onUpdate:modelValue":n=>a.description_uk=n,placeholder:"Ukrainian product description",rows:"3"},null,8,N),[[c,a.description_uk]])])]),s("div",Q,[e[7]||(e[7]=s("h3",null,"Polish Translation",-1)),s("div",D,[e[5]||(e[5]=s("label",{for:"name_pl"},"Name (Polish)",-1)),d(s("input",{id:"name_pl","onUpdate:modelValue":n=>a.name_pl=n,type:"text",placeholder:"Polish product name"},null,8,L),[[c,a.name_pl]])]),s("div",M,[e[6]||(e[6]=s("label",{for:"description_pl"},"Description (Polish)",-1)),d(s("textarea",{id:"description_pl","onUpdate:modelValue":n=>a.description_pl=n,placeholder:"Polish product description",rows:"3"},null,8,B),[[c,a.description_pl]])])])]),s("div",S,[s("button",{onClick:n=>u.saveTranslations(a),class:"save-button"}," Save Translations ",8,$),s("button",{onClick:n=>u.autoTranslate(a),class:"translate-button"}," Auto Translate ",8,A)])]))),128))]))])}const O=h(k,[["render",I],["__scopeId","data-v-84a5546d"]]);export{O as default};
